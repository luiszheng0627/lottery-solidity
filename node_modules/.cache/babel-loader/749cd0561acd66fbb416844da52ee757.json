{"ast":null,"code":"var _jsxFileName = \"/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/pages/campaign.page.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useContext, useCallback, useEffect, useState } from 'react';\nimport { useAsyncMemo } from 'use-async-memo';\nimport _ from 'lodash';\nimport { Panel } from 'primereact/panel';\nimport Factory from 'contracts/CampaignFactory.json';\nimport MyCtx from 'common/context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CampaignPage = props => {\n  _s();\n\n  const {\n    web3,\n    networkId\n  } = useContext(MyCtx);\n  const factorySC = useAsyncMemo(async () => {\n    if (_.isEmpty(web3)) return;\n    const deployedNetwork = Factory.networks[networkId];\n    return new web3.eth.Contract(Factory.abi, deployedNetwork && deployedNetwork.address);\n  }, [web3]);\n  const campaigns = useAsyncMemo(async () => {\n    if (_.isEmpty(factorySC)) return;\n    const ret = await factorySC.methods.getDeploayedCampaigns().call();\n    console.log(ret);\n    return ret;\n  }, [factorySC]);\n  return /*#__PURE__*/_jsxDEV(Panel, {\n    header: \"Campaign\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: campaigns\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CampaignPage, \"uO+zTNYA/1UiXil7VCrESoNsjAs=\", false, function () {\n  return [useAsyncMemo, useAsyncMemo];\n});\n\n_c = CampaignPage;\nexport default CampaignPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CampaignPage\");","map":{"version":3,"sources":["/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/pages/campaign.page.js"],"names":["React","Fragment","useContext","useCallback","useEffect","useState","useAsyncMemo","_","Panel","Factory","MyCtx","CampaignPage","props","web3","networkId","factorySC","isEmpty","deployedNetwork","networks","eth","Contract","abi","address","campaigns","ret","methods","getDeploayedCampaigns","call","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,WAAtC,EAAmDC,SAAnD,EAA8DC,QAA9D,QAA8E,OAA9E;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,KAAT,QAAsB,kBAAtB;AAEA,OAAOC,OAAP,MAAoB,gCAApB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;;AAEA,MAAMC,YAAY,GAAGC,KAAK,IAAI;AAAA;;AAC5B,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAsBZ,UAAU,CAACQ,KAAD,CAAtC;AACA,QAAMK,SAAS,GAAGT,YAAY,CAAC,YAAY;AACzC,QAAIC,CAAC,CAACS,OAAF,CAAUH,IAAV,CAAJ,EAAqB;AACrB,UAAMI,eAAe,GAAGR,OAAO,CAACS,QAAR,CAAiBJ,SAAjB,CAAxB;AAEA,WAAO,IAAID,IAAI,CAACM,GAAL,CAASC,QAAb,CACLX,OAAO,CAACY,GADH,EAELJ,eAAe,IAAIA,eAAe,CAACK,OAF9B,CAAP;AAID,GAR6B,EAQ3B,CAACT,IAAD,CAR2B,CAA9B;AAUA,QAAMU,SAAS,GAAGjB,YAAY,CAAC,YAAY;AACzC,QAAIC,CAAC,CAACS,OAAF,CAAUD,SAAV,CAAJ,EAA0B;AAC1B,UAAMS,GAAG,GAAG,MAAMT,SAAS,CAACU,OAAV,CAAkBC,qBAAlB,GAA0CC,IAA1C,EAAlB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACA,WAAOA,GAAP;AACD,GAL6B,EAK3B,CAACT,SAAD,CAL2B,CAA9B;AAOA,sBACE,QAAC,KAAD;AAAO,IAAA,MAAM,EAAC,UAAd;AAAA,2BACE;AAAA,gBAAMQ;AAAN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CAxBD;;GAAMZ,Y;UAEcL,Y,EAUAA,Y;;;KAZdK,Y;AA0BN,eAAeA,YAAf","sourcesContent":["import React, { Fragment, useContext, useCallback, useEffect, useState } from 'react';\nimport { useAsyncMemo } from 'use-async-memo';\nimport _ from 'lodash';\nimport { Panel } from 'primereact/panel';\n\nimport Factory from 'contracts/CampaignFactory.json';\nimport MyCtx from 'common/context';\n\nconst CampaignPage = props => {\n  const { web3, networkId } = useContext(MyCtx);\n  const factorySC = useAsyncMemo(async () => {\n    if (_.isEmpty(web3)) return;\n    const deployedNetwork = Factory.networks[networkId];\n\n    return new web3.eth.Contract(\n      Factory.abi,\n      deployedNetwork && deployedNetwork.address,\n    );\n  }, [web3]);\n\n  const campaigns = useAsyncMemo(async () => {\n    if (_.isEmpty(factorySC)) return;\n    const ret = await factorySC.methods.getDeploayedCampaigns().call();\n    console.log(ret);\n    return ret;\n  }, [factorySC]);\n\n  return (\n    <Panel header=\"Campaign\">\n      <div>{campaigns}</div>\n    </Panel>\n  );\n}\n\nexport default CampaignPage;"]},"metadata":{},"sourceType":"module"}