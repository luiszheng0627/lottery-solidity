[{"/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/index.js":"1","/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/serviceWorker.js":"2","/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/App.js":"3","/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/pages/campaign.page.js":"4","/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/pages/lottery.page.js":"5","/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/common/getWeb3.js":"6","/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/common/context.js":"7","/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/pages/loader.page.js":"8"},{"size":452,"mtime":1635839097000,"results":"9","hashOfConfig":"10"},{"size":4951,"mtime":1635839097000,"results":"11","hashOfConfig":"10"},{"size":1561,"mtime":1635884881000,"results":"12","hashOfConfig":"10"},{"size":921,"mtime":1635885374000,"results":"13","hashOfConfig":"10"},{"size":2865,"mtime":1635846620000,"results":"14","hashOfConfig":"10"},{"size":1143,"mtime":1635839097000,"results":"15","hashOfConfig":"10"},{"size":102,"mtime":1635839097000,"results":"16","hashOfConfig":"10"},{"size":308,"mtime":1635884696000,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"19lz0lb",{"filePath":"21","messages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"20"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/index.js",[],["37","38"],"/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/serviceWorker.js",[],"/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/App.js",[],"/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/pages/campaign.page.js",["39","40","41","42"],"/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/pages/lottery.page.js",["43","44","45"],"import React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { useAsyncMemo } from 'use-async-memo'\nimport _ from 'lodash';\nimport { Panel } from 'primereact/panel';\n\nimport Lottery from 'contracts/Lottery.json';\nimport MyCtx from 'common/context';\n\n\nconst LotteryPage = props => {\n  const { web3 } = useContext(MyCtx);\n\n  const lotterySC = useAsyncMemo(async () => {\n    if (_.isEmpty(web3)) return;\n    const networkId = await web3.eth.net.getId();\n    const deployedNetwork = Lottery.networks[networkId];\n\n    return new web3.eth.Contract(\n      Lottery.abi,\n      deployedNetwork && deployedNetwork.address,\n    );\n  }, [web3]);\n\n  const accounts = useAsyncMemo(async () => {\n    if (_.isEmpty(web3)) return [];\n    return await web3.eth.getAccounts();\n  }, [web3], []);\n\n  const manager = useAsyncMemo(async () => {\n    if (_.isEmpty(lotterySC)) return null;\n    return await lotterySC.methods.manager().call()\n  }, [lotterySC]);\n\n  const [players, setPlayers] = useState([]);\n  const [balance, setBalance] = useState('');\n  const [enterValue, setEnterValue] = useState('');\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    if (_.isEmpty(lotterySC) || _.isEmpty(accounts)) return;\n\n    Promise.all([\n      lotterySC.methods.getPlayers().call(),\n      web3.eth.getBalance(lotterySC.options.address),\n    ]).then(([players, balance]) => {\n      setPlayers(players);\n      setBalance(balance);\n    });\n  }, [lotterySC, accounts]);\n\n\n  const onSubmut = useCallback(async event => {\n    event.preventDefault();\n    setMessage('Waiting on transaction success...');\n\n    await lotterySC.methods.enter().send({\n      from: accounts[0],\n      value: web3.utils.toWei(enterValue, 'ether'),\n    });\n\n    setMessage('You have been entered!');\n  });\n\n  const onClick = useCallback(async event => {\n    setMessage('Waiting on transaction success...');\n\n    await lotterySC.methods.pickWinner().send({\n      from: accounts[0]\n    });\n\n    setMessage('A winner has been picked!');\n  });\n\n  if (_.isEmpty(lotterySC) || _.isEmpty(manager) || _.isEmpty(accounts)) {\n    return <div>Loading Web3, accounts, and contract...</div>;\n  }\n\n  return (\n    <Panel header=\"Lottery Game\">\n      <h1>Lottery Contract</h1>\n      <p>Contract Manager: {manager}</p>\n      <p>Current players: {players.length}</p>\n      <p>Total Balance: {web3.utils.fromWei(balance, 'ether')} ether</p>\n      <hr />\n      <form onSubmit={onSubmut}>\n        <h4>Want to try your luck?</h4>\n        <label>Amount of ether to enter</label>\n        <input value={enterValue} onChange={event => setEnterValue(event.target.value)} />\n        <button>Enter</button>\n      </form>\n      <hr />\n      <h4>Ready to pick winner?</h4>\n      <button onClick={onClick}>Pick a winner</button>\n      <hr />\n      <h4>{message}</h4>\n    </Panel>\n  );\n}\n\nexport default LotteryPage;\n","/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/common/getWeb3.js",[],"/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/common/context.js",["46"],"import React, { createContext } from 'react';\n\nconst MyCtx = createContext({});\n\nexport default MyCtx;","/Volumes/WORK/study/1.solidity/lottery-solidity/client/src/pages/loader.page.js",[],{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","severity":1,"message":"52","line":1,"column":17,"nodeType":"53","messageId":"54","endLine":1,"endColumn":25},{"ruleId":"51","severity":1,"message":"55","line":1,"column":39,"nodeType":"53","messageId":"54","endLine":1,"endColumn":50},{"ruleId":"51","severity":1,"message":"56","line":1,"column":52,"nodeType":"53","messageId":"54","endLine":1,"endColumn":61},{"ruleId":"51","severity":1,"message":"57","line":1,"column":63,"nodeType":"53","messageId":"54","endLine":1,"endColumn":71},{"ruleId":"58","severity":1,"message":"59","line":49,"column":6,"nodeType":"60","endLine":49,"endColumn":27,"suggestions":"61"},{"ruleId":"58","severity":1,"message":"62","line":52,"column":20,"nodeType":"53","endLine":52,"endColumn":31},{"ruleId":"58","severity":1,"message":"62","line":64,"column":19,"nodeType":"53","endLine":64,"endColumn":30},{"ruleId":"51","severity":1,"message":"63","line":1,"column":8,"nodeType":"53","messageId":"54","endLine":1,"endColumn":13},"no-native-reassign",["64"],"no-negated-in-lhs",["65"],"no-unused-vars","'Fragment' is defined but never used.","Identifier","unusedVar","'useCallback' is defined but never used.","'useEffect' is defined but never used.","'useState' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'web3.eth'. Either include it or remove the dependency array.","ArrayExpression",["66"],"React Hook useCallback does nothing when called with only one argument. Did you forget to pass an array of dependencies?","'React' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"67","fix":"68"},"Update the dependencies array to be: [lotterySC, accounts, web3.eth]",{"range":"69","text":"70"},[1454,1475],"[lotterySC, accounts, web3.eth]"]